security {
    shiro {
        cas {
            serverUrl = "<%= node[:slm][:sso][:castle] %>"
            serviceUrl = "<%= node[:slm][:rolodex][:baseUrl] %>/shiro-cas"
            failureUrl = "<%= node[:slm][:rolodex][:baseUrl] %>"
        }
    }
}

rolodex {
    url = "<%= node[:slm][:rolodex][:baseUrl] %>"
}
oddrest {
    url = "<%= node[:slm][:odd_service][:baseUrl] %>"
}
apartment {
    url = "<%= node[:slm][:apartment][:baseUrl] %>"
}
sso {
    vault_url = "<%= node[:slm][:sso][:vault] %>"
    census_url = "<%= node[:slm][:sso][:census] %>"
    castle_url = "<%= node[:slm][:sso][:castle] %>"
    plaza_url = "<%= node[:slm][:sso][:plaza] %>"
}

yui {
    filter = "<%= node[:chub_rolodex][:yui][:filter] %>"
    combine = <%= node[:chub_rolodex][:yui][:combine] %>
    url = "<%= node[:chub_rolodex][:yui][:url] %>"
}

<% if node[:graphite] -%>
metrics {
    <% if node[:graphite][:host] -%>
    graphiteHost = "<%= node[:graphite][:host] %>"
    <% end -%>
    <% if node[:graphite][:port] -%>
    graphitePort = <%= node[:graphite][:port] %>
    <% end -%>
    <% if node.chef_environment != "_default" -%>
    environment = "<%= node.chef_environment %>"
    <% end -%>
}
<% end -%>
