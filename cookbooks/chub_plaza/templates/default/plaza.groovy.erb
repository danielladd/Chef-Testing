<% if node[:chub_plaza][:app_context] %>
grails.app.context = "<%= node[:chub_plaza][:app_context] %>"
<% end %>
<% if node[:chub_plaza][:app_root_url] %>
grails.serverURL = "<%= node[:chub_plaza][:app_root_url] %>"
<% end %>
security {
    shiro {
        cas {
            serverUrl = "<%= node[:chub_plaza][:cas_server_url] %>"
            serviceUrl = "<%= node[:chub_plaza][:cas_service_url] %>"
            failureUrl = "<%= node[:chub_plaza][:cas_failure_url] %>"
        }
    }
}
greenmail.disabled = <%= node[:chub_plaza][:greenmail][:disabled] %>
grails.mail.disabled = <%= node[:chub_plaza][:mail][:disabled] %>
grails.mail.host = "<%= node[:chub_plaza][:mail][:host] || (!node[:chub_plaza][:greenmail][:disabled] ? 'localhost' : 'UNCONFIGURED') %>"
grails.mail.port = <%= node[:chub_plaza][:mail][:port] || (!node[:chub_plaza][:greenmail][:disabled] ? 3025 : 25) %>
<% if node[:chub_plaza][:mail][:username] %>
grails.mail.username = "<%= node[:chub_plaza][:mail][:username] %>"
<% end %>
<% if node[:chub_plaza][:mail][:password] %>
grails.mail.password = "<%= node[:chub_plaza][:mail][:password] %>"
<% end %>
<% if node[:chub_plaza][:mail][:override_address] %>
grails.mail.overrideAddress = "<%= node[:chub_plaza][:mail][:override_address] %>"
<% end %>
census {
    url = "<%= node[:chub_plaza][:census_url] %>"
}
vault {
    url = "<%= node[:chub_plaza][:vault_url] %>"
}
<% if node[:graphite] -%>
metrics {
    <% if node[:graphite][:host] -%>
    graphiteHost = "<%= node[:graphite][:host] %>"
    <% end -%>
    <% if node[:graphite][:port] -%>
    graphitePort = <%= node[:graphite][:port] %>
    <% end -%>
    <% if node.chef_environment != "_default" -%>
    environment = "<%= node.chef_environment %>"
    <% end -%>
}
<% end -%>
hazelcast {
    group = "<%= node[:chub_plaza][:hazelcast][:group] %>"
    password = "<%= node[:chub_plaza][:hazelcast][:password] %>"
    <% if node[:chub_plaza][:hazelcast][:network_port] -%>
    networkPort = <%= node[:chub_plaza][:hazelcast][:network_port] %>
    <% end -%>
    <% if node[:chub_plaza][:hazelcast][:multicast_group] -%>
    multicastGroup = "<%= node[:chub_plaza][:hazelcast][:multicast_group] %>"
    <% end -%>
    <% if node[:chub_plaza][:hazelcast][:multicast_port] -%>
    multicastPort = <%= node[:chub_plaza][:hazelcast][:multicast_port] %>
    <% end -%>
    <% if node[:chub_plaza][:hazelcast][:backup_count] -%>
    backupCount = <%= node[:chub_plaza][:hazelcast][:backup_count] %>
    <% end -%>
    <% if node[:chub_plaza][:hazelcast][:minimum_member_count] -%>
    minimumMemberCount = "<%= node[:chub_plaza][:hazelcast][:minimum_member_count] %>"
    <% end -%>
}
