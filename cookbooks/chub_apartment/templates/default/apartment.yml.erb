server:
  applicationConnectors:
    - type: http
      port: 8080

  requestLog:
    appenders:
      - type: file
        threshold: ALL
        currentLogFilename: /var/log/apartment/requests.log
        archivedLogFilenamePattern: /var/log/apartment/requests-%d.log.gz
        archivedFileCount: 5

metrics:
  reporters:
    - type: hub-graphite
      host: "<%= node[:slm][:graphite][:host] %>"
      port: <%= node[:slm][:graphite][:port] %>
      environment: "<%= node.chef_environment %>"
logging:
  # Permit DEBUG, INFO, WARN and ERROR messages to be logged by appenders.
  level: DEBUG
  loggers:
    io.dropwizard: INFO

  appenders:
    # Log info, warnings and errors to our apps' main log.
    # Rolled over daily and retained for 5 days.
    - type: file
      threshold: INFO
      currentLogFilename: /var/log/apartment/apartment.log
      archivedLogFilenamePattern: /var/log/apartment/apartment-%d.log.gz
      archivedFileCount: 5

    # Log debug messages, info, warnings and errors to our apps' debug log.
    # Rolled over hourly and retained for 6 hours
    - type: file
      threshold: DEBUG
      currentLogFilename: /var/log/apartment/debug.log
      archivedLogFilenamePattern: /var/log/apartment/debug-%d{yyyy-MM-dd-hh}.log.gz
      archivedFileCount: 6